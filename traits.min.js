/*///////////////////////////// TRAITS.JS //////////////////////////////
 *
 * Version 0.4.1-pre
 * Trait composition library for JavaScript
 * https://github.com/michaelsbradleyjr/traits.js
 *
 * This software is Copyright (c) 2013 by Michael Bradley, Jr.
 *
 * The use and distribution terms for this software are covered by the
 * Apache License, Version 2.0:
 *
 * http://opensource.org/licenses/Apache-2.0
 * http://michaelsbradleyjr.github.io/traits.js/LICENSE.txt
 *
 * By using this software in any fashion, you are agreeing to be bound
 * by the terms of this license. You must not remove this notice, or any
 * other, from this software.
 *
 //////////////////////////////// CREDIT ///////////////////////////////
 *
 * This software is adapted from an existing work:
 *
 *  http://soft.vub.ac.be/~tvcutsem/traitsjs/
 *
 * For the original license text please refer to:
 * https://github.com/michaelsbradleyjr/traits.js/tree/master/licenses
 *
 /*/////////////////////////////////////////////////////////////////////

!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):traits=e()}(function(e){return function(){var r={};return r.Trait=function(){function r(){try{if(Object.getOwnPropertyDescriptor){var e={x:0};return!!Object.getOwnPropertyDescriptor(e,"x")}}catch(r){}return!1}function t(){try{if(Object.defineProperty){var e={};return Object.defineProperty(e,"x",{value:0}),0===e.x}}catch(r){}return!1}function n(e){var r=function(){throw new Error("Conflicting property: "+e)};return E(r.prototype),E(r)}function o(){return E({value:e,enumerable:!1,required:!0})}function u(e){var r=n(e);return m?E({get:r,set:r,enumerable:!1,conflict:!0}):E({value:r,enumerable:!1,conflict:!0})}function i(e,r){return e===r?0!==e||1/e===1/r:e!==e&&r!==r}function c(e,r){return e.conflict&&r.conflict?!0:e.get===r.get&&e.set===r.set&&i(e.value,r.value)&&e.enumerable===r.enumerable&&e.required===r.required&&e.conflict===r.conflict}function f(e,r){return E(h(e,r))}function a(e){var r={};return x(e,function(e){r[e]=!0}),E(r)}function p(e){var r={};return x(A(e),function(t){var n=D(e,t);n.value===M?n=o(t):"function"==typeof n.value?(n.method=!0,"prototype"in n.value&&E(n.value.prototype)):(n.get&&n.get.prototype&&E(n.get.prototype),n.set&&n.set.prototype&&E(n.set.prototype)),r[t]=n}),r}function l(){var e=P(arguments,0),r={};return x(e,function(e){x(A(e),function(t){var n=e[t];if(q(r,t)&&!r[t].required){if(n.required)return;c(r[t],n)||(r[t]=u(t))}else r[t]=n})}),E(r)}function v(e,r){var t=a(e),n={};return x(A(r),function(e){n[e]=!q(t,e)||r[e].required?r[e]:o(e)}),E(n)}function b(){var e=P(arguments,0),r={};return x(e,function(e){x(A(e),function(t){var n=e[t];(!q(r,t)||r[t].required)&&(r[t]=n)})}),E(r)}function y(e,r){var t={};return x(A(r),function(n){if(q(e,n)&&!r[n].required){var i=e[n];t[i]=q(t,i)&&!t[i].required?u(i):r[n],q(t,n)||(t[n]=o(n))}else q(t,n)?r[n].required||(t[n]=u(n)):t[n]=r[n]}),E(t)}function g(e,r){var t={},n=[];for(var o in e)q(e,o)&&(e[o]?t[o]=e[o]:n.push(o));return y(t,v(n,r))}function s(r,t){var n=z(r),o={};return x(A(t),function(u){var i=t[u];if(i.required){if(!(u in r))throw new Error("Missing required property: "+u)}else{if(i.conflict)throw new Error("Remaining conflicting property: "+u);o[u]="value"in i?i.method?{value:f(i.value,n),enumerable:i.enumerable,configurable:i.configurable,writable:i.writable}:i:{get:i.get?f(i.get,n):e,set:i.set?f(i.set,n):e,enumerable:i.enumerable,configurable:i.configurable}}}),T(n,o),E(n)}function d(e,r){return s(Object.prototype,p(e),r)}function O(e,r){var t,n=A(e),o=A(r);if(n.length!==o.length)return!1;for(var u=0;u<n.length;u++)if(t=n[u],!r[t]||!c(e[t],r[t]))return!1;return!0}function j(e){return p(e)}var m=function(){try{var e={};return Object.defineProperty(e,"x",{get:function(){return 0}}),0===e.x}catch(r){return!1}}(),w=Function.prototype.call,h=Function.prototype.bind?function(e,r){return Function.prototype.bind.call(e,r)}:function(e,r){function t(){return e.apply(r,arguments)}return t},q=h(w,Object.prototype.hasOwnProperty),P=h(w,Array.prototype.slice),x=Array.prototype.forEach?h(w,Array.prototype.forEach):function(e,r){for(var t=0,n=e.length;n>t;t++)r(e[t])},E=Object.freeze||function(e){return e};Object.getPrototypeOf||function(){return Object.prototype};var A=Object.getOwnPropertyNames||function(e){var r=[];for(var t in e)q(e,t)&&r.push(t);return r},D=r()?Object.getOwnPropertyDescriptor:function(e,r){return{value:e[r],enumerable:!0,writable:!0,configurable:!0}},F=t()?Object.defineProperty:function(e,r,t){e[r]=t.value},T=Object.defineProperties||function(e,r){for(var t in r)q(r,t)&&F(e,t,r[t])},z=Object.create||function(e,r){function t(){}var n;return t.prototype=e||Object.prototype,n=new t,r&&T(n,r),n},C=Object.getOwnProperties||function(e){var r={};return x(A(e),function(t){r[t]=D(e,t)}),r},M=E({toString:function(){return"<Trait.required>"}});return Object.create||(Object.create=z),Object.getOwnProperties||(Object.getOwnProperties=C),j.required=E(M),j.compose=E(l),j.resolve=E(g),j.override=E(b),j.create=E(s),j.eqv=E(O),j.object=E(d),E(j)}(),r}}(void 0));
